@(rankings: Seq[RunRanking], rankingUsers: Seq[User], player: Player)

@import views.Helpers

<ul class="time-trial-rankings">
@for(ranking <- rankings) {
  <li class="rank-@ranking.rank @if(ranking.playerId == player.id) { current-player }"
    title="@ranking.creationTime.toString("EEEE d - HH:mm")">

    <span class="rank">@ranking.rank</span>

    @rankingUsers.find(_.id == ranking.playerId) match {
      case None => {
        <span class="handle">@Messages("anonymous")</span>
      }
      case Some(user) => {
        <span class="handle">@user.handle</span>
      }
    }

    @if(ranking.isRecent) { <abbr title="@Messages("timeTrials.recent")">*</abbr> }

    <span class="time">@if(ranking.rank == 1) {
      @Helpers.timer(ranking.finishTime)
    } else {
      @Helpers.timeDelta(ranking.finishTime - rankings.map(_.finishTime).min)
    }</span>

  </li>
}
</ul>
